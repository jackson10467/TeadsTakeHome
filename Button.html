<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Teads Take Home</title>
  <style>
    html, body {
      margin: 0;
      height: 100%;
    }
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #f0f0f0;
      flex-direction: column;
    }
    button {
      padding: 1% 1%;
      font-size: 100%;
      background-color: #044b97;
      color: white;
      border: none;
      border-radius: 5%;
      cursor: pointer;
    }
    button:hover {
      background-color: #258af5;
    }
  </style>
</head>
<body>
  <button id="AdsButton">Review Ads</button>
  <div id="Posts">

  </div>
</body>

<script>

let originalPosts = null;
let rejectedPosts = [];
let approvedPosts = [];
let pendingPosts = [];

function getPosts(event) {
  fetch('https://jsonplaceholder.typicode.com/posts/')
    .then(response => {
      if (!response.ok) {
        throw new Error('Network Response Error, try again!');
      }
      return response.json();
    })
    .then(posts => {
      alert('Fetched data:' + JSON.stringify(posts, null, 2));
      originalPosts = posts
      // filters the posts id based on if they're divisible by 2, 3 or a prime number
      approvedPosts = originalPosts.filter(post => post.id % 2 === 0);
      rejectedPosts = originalPosts.filter(post => post.id % 3 === 0);
      pendingPosts = originalPosts.filter(post => post.id  % 2 !== 0 && post.id % 3 !== 0)  
      
      console.log("Original posts:", originalPosts);
      
      approvedPosts = approvedPosts.map(obj => ({ ...obj, status: 'approved' }));
      rejectedPosts = rejectedPosts.map(obj => ({ ...obj, status: 'rejected' }));  
      pendingPosts  = pendingPosts.map(obj => ({ ...obj, status: 'pending' }));

      console.log("Approved Posts:", approvedPosts);
      console.log("Rejected Posts:", rejectedPosts);
      console.log("Pending Posts:", pendingPosts);
    })
    .catch(error => {
      alert('Error: ' + error.message);
    });
}

function displayPosts(event) {
    
}   

document.getElementById('AdsButton').addEventListener('click', getPosts);
document.getElementById('AdsButton').addEventListener('click', displayPosts);

  </script>
</html>